BBPATH .= ":${LAYERDIR}"
BBFILES += " \
    ${LAYERDIR}/recipes-*/*/*.bb \
    ${LAYERDIR}/recipes-*/*/*.bbappend \
"

BBFILE_COLLECTIONS += "tegra-contrib"
BBFILE_PATTERN_tegra-contrib = "^${LAYERDIR}/"
BBFILE_PRIORITY_tegra-contrib = "6"

LAYERVERSION_tegra-contrib = "1"

LAYERDEPENDS_tegra-contrib = "core"

LAYERSERIES_COMPAT_tegra-contrib = "warrior"

# -fmacro-prefix-map isn't supported in GCC 7
DEBUG_PREFIX_MAP_GCC_7 = "-fdebug-prefix-map=${WORKDIR}=/usr/src/debug/${PN}/${EXTENDPE}${PV}-${PR} \
                          -fdebug-prefix-map=${STAGING_DIR_HOST}= \
                          -fdebug-prefix-map=${STAGING_DIR_NATIVE}= \
"

DEBUG_PREFIX_MAP = "${@oe.utils.conditional('GCCVERSION', '7.%', '${DEBUG_PREFIX_MAP_GCC_7}', \
                    '-fmacro-prefix-map=${WORKDIR}=/usr/src/debug/${PN}/${EXTENDPE}${PV}-${PR} \
                    ${DEBUG_PREFIX_MAP_GCC_7}', d)}"
