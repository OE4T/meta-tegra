From 7a5d2bde1f19c3cfcb3ed05bf2b1a197d7b65982 Mon Sep 17 00:00:00 2001
From: Ilies CHERGUI <ilies.chergui@gmail.com>
Date: Sun, 6 Aug 2023 18:13:23 +0100
Subject: [PATCH 1/3] Disable outline atomics in eqos driver

Signed-off-by: Matt Madison <matt@madison.systems>
Signed-off-by: Ilies CHERGUI <ilies.chergui@gmail.com>
---
 Silicon/NVIDIA/Drivers/EqosDeviceDxe/EqosDeviceDxe.inf | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git edk2-tegra.a/edk2-nvidia/Silicon/NVIDIA/Drivers/EqosDeviceDxe/EqosDeviceDxe.inf edk2-tegra.b/edk2-nvidia/Silicon/NVIDIA/Drivers/EqosDeviceDxe/EqosDeviceDxe.inf
index 0947ed6..c446495 100644
--- edk2-tegra.a/edk2-nvidia/Silicon/NVIDIA/Drivers/EqosDeviceDxe/EqosDeviceDxe.inf
+++ edk2-tegra.b/edk2-nvidia/Silicon/NVIDIA/Drivers/EqosDeviceDxe/EqosDeviceDxe.inf
@@ -112,4 +112,4 @@
 
 [BuildOptions]
   *_*_*_PP_FLAGS = -DUPDATED_PAD_CAL -DMACSEC_SUPPORT
-  *_*_*_CC_FLAGS = -DUPDATED_PAD_CAL -DMACSEC_SUPPORT -Wno-unused-function -Wno-self-assign
+  *_*_*_CC_FLAGS = -DUPDATED_PAD_CAL -DMACSEC_SUPPORT -Wno-unused-function -Wno-self-assign -mno-outline-atomics
-- 
2.25.1

